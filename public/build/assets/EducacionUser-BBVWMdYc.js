import{X as N,G as y,r as s,j as r}from"./app-D4a8pOva.js";import{P as h}from"./PrimaryButton-C-P4SvoH.js";import"./TextInput-B2cXtOJp.js";import{M as z,S as v}from"./SecondaryButton-DWm6RyU4.js";import"./transition-Cnp_dyFb.js";function R({psicologo:t}){N().props.auth.user;const{data:e,setData:p,put:x,processing:i}=y({estado:"",id:"",notas_admin:"",user_id:t.id}),[b,o]=s.useState(!1),[a,E]=s.useState(t==null?void 0:t.escuelas),[n,m]=s.useState(""),g=d=>{m("aprobado"),p({estado:"aprobado",id:d,notas_admin:"Aprobado",user_id:t.id}),o(!0)},j=d=>{m("rechazado"),p({estado:"rechazado",id:d,notas_admin:"Rechazado",user_id:t.id}),o(!0)},c=d=>{d.preventDefault(),x(route("validacion.update",e.id)),o(!1)};return r.jsxs("section",{className:"",children:[r.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight mb-4",children:"Educacion"}),r.jsx(z,{show:b,onClose:()=>o(!1),children:r.jsxs("form",{onSubmit:c,className:"p-6",children:[r.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Estas seguro que quieres ",n==="aprobado"?"aprobar":"rechazar"," esta educacion"]}),r.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Una vez ",n==="aprobado"?"aprobada":"rechazada"," la educacion solo un superadministrador podra ",n==="aprobado"?"aprobar":"rechazar","la, y el usuario sera notificado de esta decision"]}),r.jsxs("div",{className:"mt-6 flex justify-end",children:[r.jsx(v,{onClick:()=>o(!1),children:"Cancelar"}),r.jsx(h,{className:"ms-3",disabled:i,children:n==="aprobado"?"Aprobar educacion":"Rechazar educacion"})]})]})}),(a==null?void 0:a.length)>0?r.jsx(r.Fragment,{children:r.jsx("div",{className:"space-y-3 grid grid-cols-3 gap-4",children:a==null?void 0:a.map((d,f)=>r.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg relative text-xs pt-4",children:[r.jsx("p",{className:"absolute top-2 right-2 z-10",children:r.jsxs("span",{className:`font-bold bg-green-200 px-2 py-1 rounded-full ${(d==null?void 0:d.estado)==="aprobado"&&"bg-green-200"} ${(d==null?void 0:d.estado)==="rechazado"&&"bg-red-200"} ${(d==null?void 0:d.estado)==="pendiente"&&"bg-yellow-200"}`,children:[(d==null?void 0:d.estado)==="aprobado"&&"Aprobado",(d==null?void 0:d.estado)==="rechazado"&&"Rechazado",(d==null?void 0:d.estado)==="pendiente"&&"Pendiente"]})}),r.jsx("p",{children:d==null?void 0:d.numero_cedula}),r.jsx("p",{className:"font-bold",children:d==null?void 0:d.institucion}),r.jsx("p",{children:d==null?void 0:d.carrera}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("p",{children:["Notas: ",d==null?void 0:d.notas_admin]}),((d==null?void 0:d.estado)==="pendiente"||(d==null?void 0:d.estado)==="rechazado")&&r.jsx("button",{onClick:()=>g(d.id),className:"mt-2 bg-blue-500 text-white px-2 py-1 rounded-md",children:"Aprobar"}),((d==null?void 0:d.estado)==="pendiente"||(d==null?void 0:d.estado)==="aprobado")&&r.jsx("button",{onClick:()=>j(d.id),className:"mt-2 bg-red-500 text-white px-2 py-1 rounded-md",children:"Rechazar"})]})]},f))})}):r.jsx("div",{className:"space-y-3 grid grid-cols-3 gap-4",children:"No hay escuelas agregadas"}),r.jsx(h,{className:"mt-2",disabled:i,onClick:()=>patch(route("psicologos.validate",t.id)),children:i?"Agregando...":"Agregar escuela"})]})}export{R as default};
