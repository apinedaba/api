import{r as m,j as a,S as g}from"./app-DolqDoFD.js";import{A as v}from"./AuthenticatedLayout-BQggtlUT.js";import{X as b}from"./index.es--7tYbEDS.js";import"./ApplicationLogo-DZ9cC5XU.js";import"./transition-D2KbdNk7.js";function P({auth:s,pacientes:l,status:c}){console.log("pacientes",l);const t=[{name:"ID",selector:e=>e==null?void 0:e.id,cell:e=>a.jsx("a",{href:`/paciente/${e==null?void 0:e.id}`,children:e==null?void 0:e.id})},{name:"nombre",selector:e=>e==null?void 0:e.name,cell:e=>e==null?void 0:e.name},{name:"activo",selector:e=>e==null?void 0:e.activo,cell:e=>e==null?void 0:e.activo},{name:"telefono",selector:e=>h(e),cell:e=>h(e)},{name:"email",selector:e=>e==null?void 0:e.email,cell:e=>e==null?void 0:e.email},{name:"enlaces",selector:e=>{var o;return(o=e==null?void 0:e.connections)==null?void 0:o.length},cell:e=>{var o;return(o=e==null?void 0:e.connections)==null?void 0:o.length}}],[n,i]=m.useState(!1),[u,x]=m.useState(!1),d=n!=null&&n.name?l==null?void 0:l.filter(e=>{var o;return e.name&&e.name.toLowerCase().includes((o=n==null?void 0:n.name)==null?void 0:o.toLowerCase())}):l,r=m.useMemo(()=>{const e=()=>{n&&(x(!u),i({}))};return a.jsx(j,{onFilter:i,onClear:e,filters:n})},[n,u]);return a.jsxs(v,{user:s.user,header:a.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Pacientes"}),children:[a.jsx(g,{title:"Pacientes"}),a.jsx("div",{className:"py-12",children:a.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[a.jsx("div",{className:"p-6 text-gray-900",children:"Lista de pacientes"}),a.jsx(b,{columns:t,data:n!=null&&n.onlyActives?d==null?void 0:d.filter(e=>e==null?void 0:e.activo):d,pagination:!0,paginationPerPage:10,paginationComponentOptions:!0,subHeader:!0,subHeaderComponent:r,persistTableHead:!0})]})})})]})}const j=({filter:s,onFilter:l,onClear:c})=>a.jsxs("div",{className:"grid grid-cols-2 w-full gap-4",children:[a.jsx("div",{className:"flex justify-start items-center",children:a.jsxs("label",{htmlFor:"onLyActives",className:`flex items-center gap-2 cursor-pointer border border-gray-300 rounded-md p-2 ${s!=null&&s.onlyActives?"bg-gray-100":""}`,children:["Ver Solo Activos",a.jsx("input",{type:"checkbox",name:"OnlyActives",className:"hidden",id:"onLyActives",onChange:()=>l(t=>({...t,onlyActives:!(t!=null&&t.onlyActives)})),checked:s==null?void 0:s.onlyActives})]})}),a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("input",{id:"search",type:"text",placeholder:"Buscar por nombre","aria-label":"Search Input",value:s==null?void 0:s.name,onChange:t=>l(n=>({...n,name:t.target.value})),className:"border border-gray-300 rounded-md p-2"}),a.jsx("button",{type:"button",onClick:c,className:"bg-red-500 text-white px-2 py-2 absolute top-0 right-0 h-full rounded-r-md",children:"X"})]})]});function h(s){var c,t;const l=(c=s==null?void 0:s.contacto)==null?void 0:c.telefono;return typeof(s==null?void 0:s.contacto)=="object"&&(s!=null&&s.contacto)?l:(t=JSON.parse(s==null?void 0:s.contacto))==null?void 0:t.telefono}export{P as default};
