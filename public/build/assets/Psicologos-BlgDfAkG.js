import{r as l,j as s,S as o}from"./app-C4_kfkDO.js";import{A as S}from"./AuthenticatedLayout-rLpq2H9I.js";import{X as r}from"./index.es-ButuLRqJ.js";import{F as E}from"./FotoPerfil-BKB4f5D8.js";import"./ApplicationLogo-CZ84o0YH.js";import"./transition-oq_K0qfM.js";function O({auth:t,psicologos:i,status:p}){const c=[{name:"Foto",cell:e=>s.jsx(E,{image:(e==null?void 0:e.image)||null,name:e==null?void 0:e.name,className:"w-12 h-12 rounded-full my-2",alt:e==null?void 0:e.name})},{name:"Profesional",cell:e=>s.jsx("a",{href:`/psicologo/${e==null?void 0:e.id}`,children:e==null?void 0:e.name})},{name:"Estatus",cell:e=>s.jsx("span",{className:`${(e==null?void 0:e.identity_verification_status)==="approved"?"bg-green-700":(e==null?void 0:e.identity_verification_status)==="sended"?"bg-yellow-600":"bg-red-600"} text-white px-2 py-1 rounded-full`,children:(e==null?void 0:e.identity_verification_status)==="approved"?"Aprobado":(e==null?void 0:e.identity_verification_status)==="sended"?"Enviado":"Pendiente"})},{name:"Suscripcion",cell:e=>{var n,x,g,b,h,v,_,y,j,N,A,C,P;return s.jsxs("span",{className:`
          ${((n=e==null?void 0:e.subscription)==null?void 0:n.stripe_status)==="active"&&"bg-green-700"} 
          ${(((x=e==null?void 0:e.subscription)==null?void 0:x.stripe_status)==="trialing"||((g=e==null?void 0:e.subscription)==null?void 0:g.stripe_status)==="trial")&&"bg-yellow-600"}
          ${((b=e==null?void 0:e.subscription)==null?void 0:b.stripe_status)==="canceled"&&"bg-red-600"}
          ${((h=e==null?void 0:e.subscription)==null?void 0:h.stripe_status)==="past_due"&&"bg-red-400"}
          ${((v=e==null?void 0:e.subscription)==null?void 0:v.stripe_status)==="trial_expired"&&"bg-orange-600"}
          ${(e==null?void 0:e.has_lifetime_access)&&"bg-blue-600"}
          text-white px-2 py-1 rounded-full`,children:[((_=e==null?void 0:e.subscription)==null?void 0:_.stripe_status)==="active"&&"Activo",!(e!=null&&e.has_lifetime_access)&&!((y=e==null?void 0:e.subscription)!=null&&y.id)&&"Sin suscripcion",(((j=e==null?void 0:e.subscription)==null?void 0:j.stripe_status)==="trialing"||((N=e==null?void 0:e.subscription)==null?void 0:N.stripe_status)==="trial")&&"Prueba",((A=e==null?void 0:e.subscription)==null?void 0:A.stripe_status)==="trial_expired"&&"Prueba Expirada",((C=e==null?void 0:e.subscription)==null?void 0:C.stripe_status)==="canceled"&&"Cancelado",(e==null?void 0:e.has_lifetime_access)&&"Permanente",((P=e==null?void 0:e.subscription)==null?void 0:P.stripe_status)==="past_due"&&"Vencido"]})}},{name:"Correo",selector:e=>e==null?void 0:e.email},{name:"Telefono",selector:e=>{var n;return((n=e==null?void 0:e.contacto)==null?void 0:n.telefono)||""}},{name:"Estado",selector:e=>{var n;return((n=e==null?void 0:e.address)==null?void 0:n.estado)||""}}],[a,u]=l.useState(!1),[m,f]=l.useState(!1),d=a!=null&&a.name?i==null?void 0:i.filter(e=>{var n;return e.name&&e.name.toLowerCase().includes((n=a==null?void 0:a.name)==null?void 0:n.toLowerCase())}):i,$=l.useMemo(()=>{const e=()=>{a&&(f(!m),u({}))};return s.jsx(F,{onFilter:u,onClear:e,filters:a})},[a,m]);return s.jsxs(S,{user:t.user,header:s.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Psicologos"}),children:[s.jsx(o,{title:"Psicologos"}),s.jsx("div",{className:"py-12",children:s.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[s.jsx("div",{className:"p-6 text-gray-900",children:"Lista de psicologos"}),s.jsx(r,{columns:c,data:a!=null&&a.onlyActives?d==null?void 0:d.filter(e=>(e==null?void 0:e.identity_verification_status)==="approved"):d,pagination:!0,paginationPerPage:10,paginationComponentOptions:!0,subHeader:!0,subHeaderComponent:$,persistTableHead:!0,responsive:!0})]})})})]})}const F=({filters:t,onFilter:i,onClear:p})=>s.jsxs("div",{className:"grid grid-cols-2 w-full gap-4",children:[console.log(t),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("label",{htmlFor:"onLyActives",className:`flex items-center gap-2 cursor-pointer border border-gray-300 px-2 py-1 rounded ${t!=null&&t.onlyActives?"text-green-600 border-green-600":"text-gray-600"}`,children:["Ver Solo Activos",s.jsx("input",{type:"checkbox",className:"ml-2 hidden",name:"OnlyActives",id:"onLyActives",onChange:()=>i(c=>({...c,onlyActives:!(t!=null&&t.onlyActives)})),checked:t==null?void 0:t.onlyActives})]})}),s.jsxs("div",{className:"flex items-end gap-2 flex-col",children:[s.jsx("span",{className:"text-sm text-gray-600 mb-0",children:"Buscar por nombre"}),s.jsx("input",{id:"search",type:"text",placeholder:"Buscar por nombre","aria-label":"Search Input",value:t==null?void 0:t.name,className:"border border-gray-300 px-2 py-1 rounded",onChange:c=>i(a=>({...a,name:c.target.value}))}),s.jsx("button",{type:"button",onClick:p})]})]});export{O as default};
