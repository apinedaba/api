import{r as u,j as s,S as F,x as E}from"./app-cFKHF5XC.js";import{A as L}from"./AuthenticatedLayout-epBbRbFp.js";import{X as T}from"./index.es-BfW-3JeT.js";import{F as k}from"./FotoPerfil-C5VukQ-V.js";import"./ApplicationLogo-BfjIwDqI.js";import"./transition-Bz_qPghm.js";function X({auth:t,psicologos:n,status:m}){function c(e){return e==null?void 0:e.replace(/[()\-\s+]/g,"")}const p=[{name:"Foto",cell:e=>s.jsx(k,{image:(e==null?void 0:e.image)||null,name:e==null?void 0:e.name,className:"w-12 h-12 rounded-full my-2",alt:e==null?void 0:e.name})},{name:"Profesional",cell:e=>s.jsx("a",{href:`/psicologo/${e==null?void 0:e.id}`,children:e==null?void 0:e.name})},{name:"Estatus",cell:e=>s.jsxs("span",{className:`
          ${(e==null?void 0:e.identity_verification_status)==="approved"&&"bg-green-700"}  
          ${(e==null?void 0:e.identity_verification_status)==="sended"&&"bg-yellow-600"} 
          ${(e==null?void 0:e.identity_verification_status)==="rejected"&&"bg-red-600"} 
          text-white px-2 py-1 rounded-full`,children:[(e==null?void 0:e.identity_verification_status)==="approved"&&"Aprobado",(e==null?void 0:e.identity_verification_status)==="sended"&&"Recibido",(e==null?void 0:e.identity_verification_status)==="rejected"&&"Rechazado"]})},{name:"Suscripcion",cell:e=>{var i,d,b,h,_,v,y,j,N,A,C,$,P;return s.jsxs("span",{className:`
          ${((i=e==null?void 0:e.subscription)==null?void 0:i.stripe_status)==="active"&&"bg-green-700"} 
          ${(((d=e==null?void 0:e.subscription)==null?void 0:d.stripe_status)==="trialing"||((b=e==null?void 0:e.subscription)==null?void 0:b.stripe_status)==="trial")&&"bg-yellow-600"}
          ${((h=e==null?void 0:e.subscription)==null?void 0:h.stripe_status)==="canceled"&&"bg-red-600"}
          ${((_=e==null?void 0:e.subscription)==null?void 0:_.stripe_status)==="past_due"&&"bg-red-400"}
          ${((v=e==null?void 0:e.subscription)==null?void 0:v.stripe_status)==="trial_expired"&&"bg-orange-600"}
          ${(e==null?void 0:e.has_lifetime_access)&&"bg-blue-600"}
          text-white px-2 py-1 rounded-full`,children:[((y=e==null?void 0:e.subscription)==null?void 0:y.stripe_status)==="active"&&"Activo",!(e!=null&&e.has_lifetime_access)&&!((j=e==null?void 0:e.subscription)!=null&&j.id)&&"Sin suscripcion",(((N=e==null?void 0:e.subscription)==null?void 0:N.stripe_status)==="trialing"||((A=e==null?void 0:e.subscription)==null?void 0:A.stripe_status)==="trial")&&"Prueba",((C=e==null?void 0:e.subscription)==null?void 0:C.stripe_status)==="trial_expired"&&"Prueba Expirada",(($=e==null?void 0:e.subscription)==null?void 0:$.stripe_status)==="canceled"&&"Cancelado",(e==null?void 0:e.has_lifetime_access)&&"Permanente",((P=e==null?void 0:e.subscription)==null?void 0:P.stripe_status)==="past_due"&&"Vencido"]})}},{name:"Correo",selector:e=>e==null?void 0:e.email},{name:"Telefono",cell:e=>{var i,d;return s.jsx(E,{href:`https://wa.me/${c((i=e==null?void 0:e.contacto)==null?void 0:i.whatsapp)}`,target:"_blank",children:((d=e==null?void 0:e.contacto)==null?void 0:d.whatsapp)||""})}},{name:"Estado",selector:e=>{var i;return((i=e==null?void 0:e.address)==null?void 0:i.estado)||""}}],[a,x]=u.useState(!1),[g,f]=u.useState(!1),l=a!=null&&a.name?n==null?void 0:n.filter(e=>{var i;return e.name&&e.name.toLowerCase().includes((i=a==null?void 0:a.name)==null?void 0:i.toLowerCase())}):n,S=u.useMemo(()=>{const e=()=>{a&&(f(!g),x({}))};return s.jsx(H,{onFilter:x,onClear:e,filters:a})},[a,g]);return s.jsxs(L,{user:t.user,header:s.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Psicologos"}),children:[s.jsx(F,{title:"Psicologos"}),s.jsx("div",{className:"py-12",children:s.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[s.jsx("div",{className:"p-6 text-gray-900",children:"Lista de psicologos"}),s.jsx(T,{columns:p,data:a!=null&&a.onlyActives?l==null?void 0:l.filter(e=>(e==null?void 0:e.identity_verification_status)==="approved"):l,pagination:!0,paginationPerPage:10,paginationComponentOptions:!0,subHeader:!0,subHeaderComponent:S,persistTableHead:!0,responsive:!0})]})})})]})}const H=({filters:t,onFilter:n,onClear:m})=>s.jsxs("div",{className:"grid grid-cols-2 w-full gap-4",children:[console.log(t),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("label",{htmlFor:"onLyActives",className:`flex items-center gap-2 cursor-pointer border border-gray-300 px-2 py-1 rounded ${t!=null&&t.onlyActives?"text-green-600 border-green-600":"text-gray-600"}`,children:["Ver Solo Activos",s.jsx("input",{type:"checkbox",className:"ml-2 hidden",name:"OnlyActives",id:"onLyActives",onChange:()=>n(c=>({...c,onlyActives:!(t!=null&&t.onlyActives)})),checked:t==null?void 0:t.onlyActives})]})}),s.jsxs("div",{className:"flex items-end gap-2 flex-col",children:[s.jsx("span",{className:"text-sm text-gray-600 mb-0",children:"Buscar por nombre"}),s.jsx("input",{id:"search",type:"text",placeholder:"Buscar por nombre","aria-label":"Search Input",value:t==null?void 0:t.name,className:"border border-gray-300 px-2 py-1 rounded",onChange:c=>n(p=>({...p,name:c.target.value}))}),s.jsx("button",{type:"button",onClick:m})]})]});export{X as default};
