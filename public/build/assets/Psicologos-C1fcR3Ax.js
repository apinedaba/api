import{r as d,j as s,S as $}from"./app-D4a8pOva.js";import{A as S}from"./AuthenticatedLayout-ZTFBsnFG.js";import{X as f}from"./index.es-WhPb71mO.js";import{F}from"./FotoPerfil-CPai9iqx.js";import"./ApplicationLogo-CHeVGC_D.js";import"./transition-Cnp_dyFb.js";function O({auth:a,psicologos:i,status:p}){const c=[{name:"Foto",cell:e=>s.jsx(F,{image:(e==null?void 0:e.image)||null,name:e==null?void 0:e.name,className:"w-12 h-12 rounded-full my-2",alt:e==null?void 0:e.name})},{name:"Profesional",cell:e=>s.jsx("a",{href:`/psicologo/${e==null?void 0:e.id}`,children:e==null?void 0:e.name})},{name:"Estatus",cell:e=>s.jsx("span",{className:`${(e==null?void 0:e.identity_verification_status)==="approved"?"bg-green-700":"bg-red-600"} text-white px-2 py-1 rounded-full`,children:(e==null?void 0:e.identity_verification_status)==="approved"?"Aprobado":"Pendiente"})},{name:"Suscripcion",cell:e=>{var n,x,g,b,h,v,_,y,j,r,N,o,A;return s.jsxs("span",{className:`
          ${((n=e==null?void 0:e.subscription)==null?void 0:n.stripe_status)==="active"&&"bg-green-700"} 
          ${(((x=e==null?void 0:e.subscription)==null?void 0:x.stripe_status)==="trialing"||((g=e==null?void 0:e.subscription)==null?void 0:g.stripe_status)==="trial")&&"bg-yellow-600"}
          ${((b=e==null?void 0:e.subscription)==null?void 0:b.stripe_status)==="canceled"&&"bg-red-600"}
          ${((h=e==null?void 0:e.subscription)==null?void 0:h.stripe_status)==="past_due"&&"bg-red-400"}
          ${((v=e==null?void 0:e.subscription)==null?void 0:v.stripe_status)==="trial_expired"&&"bg-orange-600"}
          ${(e==null?void 0:e.has_lifetime_access)&&"bg-blue-600"}
          text-white px-2 py-1 rounded-full`,children:[((_=e==null?void 0:e.subscription)==null?void 0:_.stripe_status)==="active"&&"Activo",!(e!=null&&e.has_lifetime_access)&&!((y=e==null?void 0:e.subscription)!=null&&y.id)&&"Sin suscripcion",(((j=e==null?void 0:e.subscription)==null?void 0:j.stripe_status)==="trialing"||((r=e==null?void 0:e.subscription)==null?void 0:r.stripe_status)==="trial")&&"Prueba",((N=e==null?void 0:e.subscription)==null?void 0:N.stripe_status)==="trial_expired"&&"Prueba Expirada",((o=e==null?void 0:e.subscription)==null?void 0:o.stripe_status)==="canceled"&&"Cancelado",(e==null?void 0:e.has_lifetime_access)&&"Permanente",((A=e==null?void 0:e.subscription)==null?void 0:A.stripe_status)==="past_due"&&"Vencido"]})}},{name:"Correo",selector:e=>e==null?void 0:e.email},{name:"Telefono",selector:e=>{var n;return((n=e==null?void 0:e.contacto)==null?void 0:n.telefono)||""}},{name:"Estado",selector:e=>{var n;return((n=e==null?void 0:e.address)==null?void 0:n.estado)||""}}],[t,u]=d.useState(!1),[m,C]=d.useState(!1),l=t!=null&&t.name?i==null?void 0:i.filter(e=>{var n;return e.name&&e.name.toLowerCase().includes((n=t==null?void 0:t.name)==null?void 0:n.toLowerCase())}):i,P=d.useMemo(()=>{const e=()=>{t&&(C(!m),u({}))};return s.jsx(E,{onFilter:u,onClear:e,filters:t})},[t,m]);return s.jsxs(S,{user:a.user,header:s.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Psicologos"}),children:[s.jsx($,{title:"Psicologos"}),s.jsx("div",{className:"py-12",children:s.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[s.jsx("div",{className:"p-6 text-gray-900",children:"Lista de psicologos"}),s.jsx(f,{columns:c,data:t!=null&&t.onlyActives?l==null?void 0:l.filter(e=>(e==null?void 0:e.identity_verification_status)==="approved"):l,pagination:!0,paginationPerPage:10,paginationComponentOptions:!0,subHeader:!0,subHeaderComponent:P,persistTableHead:!0,responsive:!0})]})})})]})}const E=({filters:a,onFilter:i,onClear:p})=>s.jsxs("div",{className:"grid grid-cols-2 w-full gap-4",children:[console.log(a),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("label",{htmlFor:"onLyActives",className:`flex items-center gap-2 cursor-pointer border border-gray-300 px-2 py-1 rounded ${a!=null&&a.onlyActives?"text-green-600 border-green-600":"text-gray-600"}`,children:["Ver Solo Activos",s.jsx("input",{type:"checkbox",className:"ml-2 hidden",name:"OnlyActives",id:"onLyActives",onChange:()=>i(c=>({...c,onlyActives:!(a!=null&&a.onlyActives)})),checked:a==null?void 0:a.onlyActives})]})}),s.jsxs("div",{className:"flex items-end gap-2 flex-col",children:[s.jsx("span",{className:"text-sm text-gray-600 mb-0",children:"Buscar por nombre"}),s.jsx("input",{id:"search",type:"text",placeholder:"Buscar por nombre","aria-label":"Search Input",value:a==null?void 0:a.name,className:"border border-gray-300 px-2 py-1 rounded",onChange:c=>i(t=>({...t,name:c.target.value}))}),s.jsx("button",{type:"button",onClick:p})]})]});export{O as default};
