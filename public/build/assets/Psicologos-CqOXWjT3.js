import{r as u,j as s,S,x as E}from"./app-CpI28DGl.js";import{A as F}from"./AuthenticatedLayout-CayZr-Ip.js";import{X as o}from"./index.es-Cyv_dybA.js";import{F as L}from"./FotoPerfil-B9IeY73l.js";import"./ApplicationLogo-i_MQQZKn.js";import"./transition-DAbwN8lG.js";function V({auth:a,psicologos:i,status:m}){function c(e){return e.replace(/[()\-\s+]/g,"")}const p=[{name:"Foto",cell:e=>s.jsx(L,{image:(e==null?void 0:e.image)||null,name:e==null?void 0:e.name,className:"w-12 h-12 rounded-full my-2",alt:e==null?void 0:e.name})},{name:"Profesional",cell:e=>s.jsx("a",{href:`/psicologo/${e==null?void 0:e.id}`,children:e==null?void 0:e.name})},{name:"Estatus",cell:e=>s.jsx("span",{className:`${(e==null?void 0:e.identity_verification_status)==="approved"?"bg-green-700":(e==null?void 0:e.identity_verification_status)==="sended"?"bg-yellow-600":"bg-red-600"} text-white px-2 py-1 rounded-full`,children:(e==null?void 0:e.identity_verification_status)==="approved"?"Aprobado":(e==null?void 0:e.identity_verification_status)==="sended"?"Enviado":"Pendiente"})},{name:"Suscripcion",cell:e=>{var n,l,b,h,_,v,y,j,N,A,C,P,f;return s.jsxs("span",{className:`
          ${((n=e==null?void 0:e.subscription)==null?void 0:n.stripe_status)==="active"&&"bg-green-700"} 
          ${(((l=e==null?void 0:e.subscription)==null?void 0:l.stripe_status)==="trialing"||((b=e==null?void 0:e.subscription)==null?void 0:b.stripe_status)==="trial")&&"bg-yellow-600"}
          ${((h=e==null?void 0:e.subscription)==null?void 0:h.stripe_status)==="canceled"&&"bg-red-600"}
          ${((_=e==null?void 0:e.subscription)==null?void 0:_.stripe_status)==="past_due"&&"bg-red-400"}
          ${((v=e==null?void 0:e.subscription)==null?void 0:v.stripe_status)==="trial_expired"&&"bg-orange-600"}
          ${(e==null?void 0:e.has_lifetime_access)&&"bg-blue-600"}
          text-white px-2 py-1 rounded-full`,children:[((y=e==null?void 0:e.subscription)==null?void 0:y.stripe_status)==="active"&&"Activo",!(e!=null&&e.has_lifetime_access)&&!((j=e==null?void 0:e.subscription)!=null&&j.id)&&"Sin suscripcion",(((N=e==null?void 0:e.subscription)==null?void 0:N.stripe_status)==="trialing"||((A=e==null?void 0:e.subscription)==null?void 0:A.stripe_status)==="trial")&&"Prueba",((C=e==null?void 0:e.subscription)==null?void 0:C.stripe_status)==="trial_expired"&&"Prueba Expirada",((P=e==null?void 0:e.subscription)==null?void 0:P.stripe_status)==="canceled"&&"Cancelado",(e==null?void 0:e.has_lifetime_access)&&"Permanente",((f=e==null?void 0:e.subscription)==null?void 0:f.stripe_status)==="past_due"&&"Vencido"]})}},{name:"Correo",selector:e=>e==null?void 0:e.email},{name:"Telefono",cell:e=>{var n,l;return s.jsx(E,{href:`https://wa.me/${c((n=e==null?void 0:e.contacto)==null?void 0:n.whatsapp)}`,target:"_blank",children:((l=e==null?void 0:e.contacto)==null?void 0:l.whatsapp)||""})}},{name:"Estado",selector:e=>{var n;return((n=e==null?void 0:e.address)==null?void 0:n.estado)||""}}],[t,x]=u.useState(!1),[g,$]=u.useState(!1),d=t!=null&&t.name?i==null?void 0:i.filter(e=>{var n;return e.name&&e.name.toLowerCase().includes((n=t==null?void 0:t.name)==null?void 0:n.toLowerCase())}):i,r=u.useMemo(()=>{const e=()=>{t&&($(!g),x({}))};return s.jsx(T,{onFilter:x,onClear:e,filters:t})},[t,g]);return s.jsxs(F,{user:a.user,header:s.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Psicologos"}),children:[s.jsx(S,{title:"Psicologos"}),s.jsx("div",{className:"py-12",children:s.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[s.jsx("div",{className:"p-6 text-gray-900",children:"Lista de psicologos"}),s.jsx(o,{columns:p,data:t!=null&&t.onlyActives?d==null?void 0:d.filter(e=>(e==null?void 0:e.identity_verification_status)==="approved"):d,pagination:!0,paginationPerPage:10,paginationComponentOptions:!0,subHeader:!0,subHeaderComponent:r,persistTableHead:!0,responsive:!0})]})})})]})}const T=({filters:a,onFilter:i,onClear:m})=>s.jsxs("div",{className:"grid grid-cols-2 w-full gap-4",children:[console.log(a),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("label",{htmlFor:"onLyActives",className:`flex items-center gap-2 cursor-pointer border border-gray-300 px-2 py-1 rounded ${a!=null&&a.onlyActives?"text-green-600 border-green-600":"text-gray-600"}`,children:["Ver Solo Activos",s.jsx("input",{type:"checkbox",className:"ml-2 hidden",name:"OnlyActives",id:"onLyActives",onChange:()=>i(c=>({...c,onlyActives:!(a!=null&&a.onlyActives)})),checked:a==null?void 0:a.onlyActives})]})}),s.jsxs("div",{className:"flex items-end gap-2 flex-col",children:[s.jsx("span",{className:"text-sm text-gray-600 mb-0",children:"Buscar por nombre"}),s.jsx("input",{id:"search",type:"text",placeholder:"Buscar por nombre","aria-label":"Search Input",value:a==null?void 0:a.name,className:"border border-gray-300 px-2 py-1 rounded",onChange:c=>i(p=>({...p,name:c.target.value}))}),s.jsx("button",{type:"button",onClick:m})]})]});export{V as default};
