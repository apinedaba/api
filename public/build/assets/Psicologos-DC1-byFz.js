import{r as u,j as t,S,x as F}from"./app-B1mEVFSb.js";import{A as D}from"./AuthenticatedLayout-DCN1xvMX.js";import{X as E}from"./index.es-rndmEwFm.js";import{F as L}from"./FotoPerfil-CiDcf8qC.js";import"./ApplicationLogo-DF9Xyn0M.js";import"./transition-35QgAgSd.js";function V({auth:s,psicologos:i,status:m}){function c(e){return e==null?void 0:e.replace(/[()\-\s+]/g,"")}const p=[{name:"Foto",cell:e=>t.jsx(L,{image:(e==null?void 0:e.image)||null,name:e==null?void 0:e.name,className:"w-12 h-12 rounded-full my-2",alt:e==null?void 0:e.name})},{name:"Profesional",cell:e=>t.jsx("a",{href:`/psicologo/${e==null?void 0:e.id}`,children:e==null?void 0:e.name})},{name:"Estatus",cell:e=>t.jsxs("span",{className:`
          ${(e==null?void 0:e.identity_verification_status)==="approved"&&"bg-green-700"}  
          ${(e==null?void 0:e.identity_verification_status)==="sended"&&"bg-yellow-600"} 
          ${(e==null?void 0:e.identity_verification_status)==="rejected"&&"bg-red-600"} 
          text-white px-2 py-1 rounded-full`,children:[(e==null?void 0:e.identity_verification_status)==="approved"&&"Aprobado",(e==null?void 0:e.identity_verification_status)==="sended"&&"Recibido",(e==null?void 0:e.identity_verification_status)==="rejected"&&"Rechazado"]})},{name:"Suscripcion",cell:e=>{var a,d,b,h,_,v,y,j,N,A,C,$,P;return t.jsxs("span",{className:`
          ${((a=e==null?void 0:e.subscription)==null?void 0:a.stripe_status)==="active"&&"bg-green-700"} 
          ${(((d=e==null?void 0:e.subscription)==null?void 0:d.stripe_status)==="trialing"||((b=e==null?void 0:e.subscription)==null?void 0:b.stripe_status)==="trial")&&"bg-yellow-600"}
          ${((h=e==null?void 0:e.subscription)==null?void 0:h.stripe_status)==="canceled"&&"bg-red-600"}
          ${((_=e==null?void 0:e.subscription)==null?void 0:_.stripe_status)==="past_due"&&"bg-red-400"}
          ${((v=e==null?void 0:e.subscription)==null?void 0:v.stripe_status)==="trial_expired"&&"bg-orange-600"}
          ${(e==null?void 0:e.has_lifetime_access)&&"bg-blue-600"}
          text-white px-2 py-1 rounded-full`,children:[((y=e==null?void 0:e.subscription)==null?void 0:y.stripe_status)==="active"&&"Activo",!(e!=null&&e.has_lifetime_access)&&!((j=e==null?void 0:e.subscription)!=null&&j.id)&&"Sin suscripcion",(((N=e==null?void 0:e.subscription)==null?void 0:N.stripe_status)==="trialing"||((A=e==null?void 0:e.subscription)==null?void 0:A.stripe_status)==="trial")&&"Prueba",((C=e==null?void 0:e.subscription)==null?void 0:C.stripe_status)==="trial_expired"&&"Prueba Expirada",(($=e==null?void 0:e.subscription)==null?void 0:$.stripe_status)==="canceled"&&"Cancelado",(e==null?void 0:e.has_lifetime_access)&&"Permanente",((P=e==null?void 0:e.subscription)==null?void 0:P.stripe_status)==="past_due"&&"Vencido"]})}},{name:"Correo",selector:e=>e==null?void 0:e.email},{name:"Telefono",cell:e=>{var a,d;return t.jsx(F,{href:`https://wa.me/${c((a=e==null?void 0:e.contacto)==null?void 0:a.whatsapp)}`,target:"_blank",children:((d=e==null?void 0:e.contacto)==null?void 0:d.whatsapp)||""})}},{name:"Estado",selector:e=>{var a;return((a=e==null?void 0:e.address)==null?void 0:a.estado)||""}}],[n,x]=u.useState(!1),[g,f]=u.useState(!1),l=n!=null&&n.name?i==null?void 0:i.filter(e=>{var a;return e.name&&e.name.toLowerCase().includes((a=n==null?void 0:n.name)==null?void 0:a.toLowerCase())}):i,r=u.useMemo(()=>{const e=()=>{n&&(f(!g),x({}))};return t.jsx(T,{onFilter:x,onClear:e,filters:n})},[n,g]);return t.jsxs(D,{user:s.user,header:t.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Psicologos"}),children:[t.jsx(S,{title:"Psicologos"}),t.jsx("div",{className:"py-12",children:t.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:t.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[t.jsx("div",{className:"p-6 text-gray-900",children:"Lista de psicologos"}),t.jsx(E,{columns:p,data:n!=null&&n.onlyActives?l==null?void 0:l.filter(e=>(e==null?void 0:e.identity_verification_status)==="approved").sort((e,a)=>new Date(a.created_at)-new Date(e.created_at)):l.sort((e,a)=>new Date(a.created_at)-new Date(e.created_at)),pagination:!0,paginationPerPage:10,paginationComponentOptions:!0,subHeader:!0,subHeaderComponent:r,persistTableHead:!0,responsive:!0})]})})})]})}const T=({filters:s,onFilter:i,onClear:m})=>t.jsxs("div",{className:"grid grid-cols-2 w-full gap-4",children:[console.log(s),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("label",{htmlFor:"onLyActives",className:`flex items-center gap-2 cursor-pointer border border-gray-300 px-2 py-1 rounded ${s!=null&&s.onlyActives?"text-green-600 border-green-600":"text-gray-600"}`,children:["Ver Solo Activos",t.jsx("input",{type:"checkbox",className:"ml-2 hidden",name:"OnlyActives",id:"onLyActives",onChange:()=>i(c=>({...c,onlyActives:!(s!=null&&s.onlyActives)})),checked:s==null?void 0:s.onlyActives})]})}),t.jsxs("div",{className:"flex items-end gap-2 flex-col",children:[t.jsx("span",{className:"text-sm text-gray-600 mb-0",children:"Buscar por nombre"}),t.jsx("input",{id:"search",type:"text",placeholder:"Buscar por nombre","aria-label":"Search Input",value:s==null?void 0:s.name,className:"border border-gray-300 px-2 py-1 rounded",onChange:c=>i(p=>({...p,name:c.target.value}))}),t.jsx("button",{type:"button",onClick:m})]})]});export{V as default};
