import{X as v,r as m,j as a,A as i}from"./app-L7BGSx6H.js";import{P as n}from"./PrimaryButton-CQiQArrH.js";import"./TextInput-hKE9Pis7.js";function b({psicologo:e}){v().props.auth.user;const[t,u]=m.useState(!1),d=(r,f)=>{u(!0),i.patch(route("psicologos.validate",e.id),{action:r,type:f},{preserveScroll:!0,onSuccess:()=>{console.log("Validación exitosa"),u(!1)},onError:_=>{console.error("Error en validación:",_),u(!1)}})};return console.log(e),a.jsxs("section",{className:"relative",children:[a.jsxs("label",{htmlFor:"",className:"text-center absolute top-0 right-0 z-10 grid grid-cols-2 gap-2",children:[a.jsx("span",{className:"block text-xs text-gray-500 font-bold bg-gray-200 px-2 py-1 rounded-full",children:e!=null&&e.cedula_selfie_url&&(e!=null&&e.ine_selfie_url)&&(e==null?void 0:e.identity_verification_status)==="pending"?"Pendiente de verificación":e!=null&&e.cedula_selfie_url&&(e!=null&&e.ine_selfie_url)&&(e==null?void 0:e.identity_verification_status)==="approved"?"Aprobado":"Sin fotos de identificación"}),a.jsxs("span",{className:`block text-xs text-gray-500 font-bold px-2 py-1 rounded-full ${(e==null?void 0:e.identity_verification_status)==="approved"&&"bg-green-200"} ${(e==null?void 0:e.identity_verification_status)==="rejected"&&"bg-red-200"} ${(e==null?void 0:e.identity_verification_status)==="pending"&&"bg-yellow-200"}`,children:[(e==null?void 0:e.identity_verification_status)==="approved"&&"Aprobado",(e==null?void 0:e.identity_verification_status)==="rejected"&&"Rechazado",(e==null?void 0:e.identity_verification_status)==="pending"&&"Pendiente"]})]}),a.jsxs("div",{className:"mt-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2",children:[(e==null?void 0:e.cedula_selfie_url)&&a.jsxs("div",{className:"m-auto",children:[a.jsx("a",{href:e==null?void 0:e.cedula_selfie_url,target:"_blank",rel:"noopener noreferrer",children:a.jsx("img",{src:e==null?void 0:e.cedula_selfie_url,className:"w-48 h-48 rounded-full object-cover",alt:""})}),(e==null?void 0:e.identity_verification_status)==="pending"&&a.jsx(n,{className:"ml-4 mt-2",disabled:t,onClick:r=>{r.preventDefault(),d("approve","cedula")},children:"Validar foto de cédula"})]}),(e==null?void 0:e.ine_selfie_url)&&a.jsxs("div",{className:"m-auto",children:[a.jsx("a",{href:e==null?void 0:e.ine_selfie_url,target:"_blank",rel:"noopener noreferrer",children:a.jsx("img",{src:e==null?void 0:e.ine_selfie_url,className:"w-48 h-48 rounded-full object-cover",alt:""})}),(e==null?void 0:e.identity_verification_status)==="pending"&&a.jsx(n,{className:"ml-4 mt-2",disabled:t,onClick:r=>{r.preventDefault(),d("approve","ine")},children:"Validar foto de INE"})]})]}),a.jsx("div",{className:"flex items-center gap-4 justify-center",children:!(e!=null&&e.cedula_selfie_url)||!(e!=null&&e.ine_selfie_url)?a.jsx(n,{className:"ml-4",disabled:t,onClick:r=>{r.preventDefault(),i.post(route("user.psicologo.solicitud",e.id))},children:t?"Solicitando Imagenes de verificacion...":"Solicitar Imagenes de verificacion"}):(e==null?void 0:e.identity_verification_status)==="pending"?a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(n,{className:"bg-green-600 hover:bg-green-700",disabled:t,onClick:r=>{r.preventDefault(),d("approve","both")},children:t?"Aprobando...":"Aprobar"}),a.jsx(n,{className:"bg-red-600 hover:bg-red-700",disabled:t,onClick:r=>{r.preventDefault(),d("reject","both")},children:t?"Rechazando...":"Rechazar"})]}):""})]})]})}export{b as default};
