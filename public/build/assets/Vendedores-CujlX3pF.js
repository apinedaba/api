import{X as S,r as p,j as s,S as E,G as D}from"./app-B1mEVFSb.js";import{I as m}from"./InputError-CP25XijO.js";import{I as r}from"./InputLabel-CzFoiNRC.js";import{M as f}from"./Modal-DPWEsx_L.js";import{P as j}from"./PrimaryButton-CXOWRMMJ.js";import{T as c}from"./TextInput-9hJiaQ2q.js";import{A as _}from"./AuthenticatedLayout-DCN1xvMX.js";import I from"./DeleteVendedorModal-DQdkw8VL.js";import"./transition-35QgAgSd.js";import"./ApplicationLogo-DF9Xyn0M.js";function z({auth:e,vendedores:t}){const{flash:n}=S().props,[i,x]=p.useState(!1),[h,d]=p.useState(null);n!=null&&n.success&&n.success;const[u,a]=p.useState(!1);return s.jsxs(_,{user:e.user,header:s.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Vendedores"}),children:[s.jsx(E,{title:"Vendedores"}),s.jsx("div",{className:"py-12",children:s.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsx(j,{onClick:()=>a(!0),children:"Agregar vendedor"})}),s.jsx(f,{show:u,onClose:()=>a(!1),children:s.jsx(M,{vendedor:h,onClose:()=>{a(!1),d(null)}})}),s.jsx(f,{show:i,onClose:()=>x(!1),children:h&&s.jsx(I,{vendedor:h,onClose:()=>{x(!1),d(null)}})}),s.jsx("div",{className:"p-6 text-gray-900 grid grid-cols-3",children:(t==null?void 0:t.length)===0?s.jsx("p",{children:"No hay vendedores registrados aun"}):t.map(l=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h1",{className:"text-lg font-semibold",children:l.nombre}),s.jsx("p",{className:"text-sm text-gray-600",children:l.email}),s.jsx("p",{className:"text-sm text-gray-600",children:l.telefono}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[s.jsx("a",{href:route("vendedores.qr.image",l.id),className:"text-sm text-green-600 underline",children:"Descargar QR"}),s.jsx(j,{className:"bg-blue-600 hover:bg-blue-700 flex justify-center",onClick:()=>{d(l),a(!0)},children:"Editar"}),s.jsx(j,{className:"bg-red-600 hover:bg-red-700 flex justify-center",onClick:()=>{d(l),x(!0)},children:"Eliminar"})]})]},l.id))})]})})})]})}function M({vendedor:e=null,onClose:t}){const n=!!e,{data:i,setData:x,post:h,put:d,processing:u,errors:a}=D({nombre:(e==null?void 0:e.nombre)||"",email:(e==null?void 0:e.email)||"",telefono:(e==null?void 0:e.telefono)||"",password:"",password_confirmation:"",direccion:(e==null?void 0:e.direccion)||"",ciudad:(e==null?void 0:e.ciudad)||"",estado:(e==null?void 0:e.estado)||"",codigo_postal:(e==null?void 0:e.codigo_postal)||"",pais:(e==null?void 0:e.pais)||"",rol:(e==null?void 0:e.rol)||"vendedor",imagen:null}),l=g=>{const{name:b,value:w,type:y,files:C}=g.target;x(b,y==="file"?C[0]:w)},N=g=>{g.preventDefault(),n?d(route("vendedores.update",e.id),{forceFormData:!0,onSuccess:()=>t==null?void 0:t()}):h(route("vendedores.store"),{forceFormData:!0,onSuccess:()=>t==null?void 0:t()})},o="w-full flex";return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-lg font-semibold mb-4",children:n?"Editar vendedor":"Crear vendedor"}),s.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:o,children:[s.jsx(r,{children:"Nombre"}),s.jsx(c,{name:"nombre",value:i.nombre,onChange:l,className:a.nombre&&"border-red-500"}),s.jsx(m,{message:a.nombre})]}),s.jsxs("div",{className:o,children:[s.jsx(r,{children:"Email"}),s.jsx(c,{name:"email",type:"email",value:i.email,onChange:l,className:a.email&&"border-red-500"}),s.jsx(m,{message:a.email})]}),s.jsxs("div",{className:o,children:[s.jsx(r,{children:"Teléfono"}),s.jsx(c,{name:"telefono",value:i.telefono,onChange:l,className:a.telefono&&"border-red-500"}),s.jsx(m,{message:a.telefono})]}),s.jsxs("div",{className:o,children:[s.jsxs(r,{children:["Password ",n&&"(opcional)"]}),s.jsx(c,{name:"password",type:"password",value:i.password,onChange:l}),s.jsx(m,{message:a.password})]}),s.jsxs("div",{className:o,children:[s.jsx(r,{children:"Confirmar Password"}),s.jsx(c,{name:"password_confirmation",type:"password",value:i.password_confirmation,onChange:l})]}),s.jsxs("div",{className:o,children:[s.jsx(r,{children:"Dirección"}),s.jsx(c,{name:"direccion",value:i.direccion,onChange:l,className:a.direccion&&"border-red-500"}),s.jsx(m,{message:a.direccion})]}),s.jsxs("div",{className:o,children:[s.jsx(r,{children:"Ciudad"}),s.jsx(c,{name:"ciudad",value:i.ciudad,onChange:l,className:a.ciudad&&"border-red-500"}),s.jsx(m,{message:a.ciudad})]}),s.jsxs("div",{className:o,children:[s.jsx(r,{children:"Estado"}),s.jsx(c,{name:"estado",value:i.estado,onChange:l,className:a.estado&&"border-red-500"}),s.jsx(m,{message:a.estado})]}),s.jsxs("div",{className:o,children:[s.jsx(r,{children:"Código Postal"}),s.jsx(c,{name:"codigo_postal",value:i.codigo_postal,onChange:l,className:a.codigo_postal&&"border-red-500"}),s.jsx(m,{message:a.codigo_postal})]}),s.jsxs("div",{className:o,children:[s.jsx(r,{children:"País"}),s.jsx(c,{name:"pais",value:i.pais,onChange:l,className:a.pais&&"border-red-500"}),s.jsx(m,{message:a.pais})]}),s.jsxs("div",{className:o,children:[s.jsx(r,{children:"Rol"}),s.jsx(c,{name:"rol",value:i.rol,onChange:l,className:a.rol&&"border-red-500"}),s.jsx(m,{message:a.rol})]}),s.jsxs("div",{className:"col-span-full",children:[s.jsx(r,{children:"Imagen"}),s.jsx(c,{name:"imagen",type:"file",onChange:l}),s.jsx(m,{message:a.imagen})]}),s.jsx("div",{className:"col-span-full flex justify-end mt-6",children:s.jsx(j,{disabled:u,children:n?"Actualizar":"Guardar"})})]})]})}export{M as FormCreateEditVendedor,z as default};
